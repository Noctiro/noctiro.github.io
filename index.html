<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirect Page</title>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const currentUrl = window.location.href;

            // 定义跳转规则和默认跳转页面
            const redirectRules = [
                { pattern: "/about", target: "https://www.noctiro.moe/about/" },
                { pattern: "/link", target: "https://www.noctiro.moe/about/" },
                { pattern: "/archives", target: "https://www.noctiro.moe/archive/" },
                { pattern: "/tags", target: "https://www.noctiro.moe/archive/" },
                { pattern: "/post/110db35fe8a5.html", target: "https://www.noctiro.moe/posts/hexo-butterfly-random/" },
                { pattern: "/post/b1a99e3babd3.html", target: "https://www.noctiro.moe/posts/reverse-proxy/" },
                { pattern: "/post/73eecb1e5959.html", target: "https://www.noctiro.moe/posts/id-gen-bukkit/" },
                { pattern: "/post/641f6e0bfed0.html", target: "https://www.noctiro.moe/posts/bukkit-custom-entity/" },
            ];
            const defaultRedirect = "";

            // 去除 URL 的末尾斜杠（如果有），确保匹配的一致性
            const normalizedUrl = currentUrl.endsWith("/") ? currentUrl.slice(0, -1) : currentUrl;

            // 匹配规则
            const rule = redirectRules.find(r => {
                const regex = new RegExp(r.pattern + "(/|$)"); // 匹配 "/pattern" 或 "/pattern/"
                return regex.test(normalizedUrl);
            });

            // 跳转到匹配页面或默认页面
            window.location.href = rule ? rule.target : defaultRedirect;
        });
    </script>
</head>
<body>
    <h1>跳转新博客中</h1>
</body>
</html>
